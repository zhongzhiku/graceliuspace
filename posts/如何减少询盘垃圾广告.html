<!DOCTYPE html>
<html lang="zh">

<head>
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <!-- SITE TITLE -->
    <title>如何减少询盘垃圾广告|Grace Studio海外社媒工作室</title>
    <meta name="description" content="避免垃圾表单影响询盘数据🌐 Cloudflare Turnstile + Formspree 表单完整设置教程|Grace Studio海外社媒工作室">
    <meta name="keywords" content="海外市场、描述词、海外社媒、出海咨询、独立站运营">
    <!-- Latest Bootstrap min CSS -->
    <link rel="stylesheet" href="../assets/bootstrap/css/bootstrap.min.css">
    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Dosis:300,400,500,600,700" rel="stylesheet" type="text/css">
    <link href="http://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <!-- Font Awesome CSS -->
    <link rel="stylesheet" href="../assets/fonts/font-awesome.min.css">
    <!--- owl carousel Css-->
    <link rel="stylesheet" href="../assets/owlcarousel/css/owl.carousel.css">
    <link rel="stylesheet" href="../assets/owlcarousel/css/owl.theme.css">
    <!--prettyPhoto css-->
    <link href="../assets/css/prettyPhoto.css" rel="stylesheet">
    <!-- animate CSS -->
    <link rel="stylesheet" href="../assets/css/animate.css">
    <!-- Style CSS -->
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/responsive.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

        <style>/* 全局设置 */
        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            margin: 20px;
            background-color: #f9f9f9;
            color: #333;
        }

        /* 标题样式 */
        h1, h2, h3 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        /* 段落样式 */
        p {
            margin-bottom: 15px;
            text-align: justify;
        }

        /* 链接样式 */
        a {
            color: #2980b9;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        /* 列表样式 */
        ul, ol {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        /* 引用样式 */
        blockquote {
            border-left: 4px solid #2980b9;
            padding-left: 15px;
            margin: 15px 0;
            color: #555;
            font-style: italic;
        }

        /* 图片样式 */
        img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 10px 0;
        }

    </style>

</head>

<body data-spy="scroll" data-offset="80">


<!-- START NAVBAR -->
<div id="sticker" class="navbar navbar-default menu-top">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="../index.html" class="navbar-brand"><img src="../assets/img/logo.png" alt="logo"></a>
        </div>
        <div class="navbar-collapse collapse">
            <nav>
                <ul class="nav navbar-nav navbar-right">
                    <li><a class="page-scroll" href="../index.html">Home</a></li>
                    <li><a class="page-scroll" href="#post">POST</a></li>
                    <li><a class="page-scroll" href="https://news.graceliu.space" target="_blank">Blog</a></li>
                    <li><a class="page-scroll" href="#contact">Contact</a></li>
                </ul>
            </nav>
        </div>
    </div>
    <!--- END CONTAINER -->
</div>
<!-- END NAVBAR -->

<!-- START POSTS TABLE -->
<section id="post" class="our_pricing section-padding">
    <div class="container">
        <div class="row pricing">
            <div class="section-title text-center wow zoomIn">

                <h1>避免垃圾表单🌐 Cloudflare Turnstile + Formspree 表单完整设置教程</h1>
            </div>

            <div>
                <p><img src="../assets/img/portfolio/减少询盘垃圾广告Turnstile.jpg"
                    alt="避免垃圾表单 Cloudflare Turnstile + Formspree 表单完整设置"></p>
                <h2 id="-turnstile-"><strong>前言：使用 Turnstile 的目的</strong></h2>
                <p>在网站表单中使用 <strong>Cloudflare Turnstile</strong> 主要目的是：</p>
                <ol>
                    <li><strong>防止垃圾表单</strong>：阻挡自动提交的机器人和脚本，减少垃圾邮件</li>
                    <li><strong>保护邮箱安全</strong>：避免邮箱被滥用</li>
                    <li><strong>提高用户体验</strong>：相比传统 CAPTCHA，无需点击“我不是机器人”，自动分析行为</li>
                    <li><strong>提高网站安全性</strong>：确保提交的表单来自真实用户</li>
                </ol>
                <p>结合 <strong>Formspree + AJAX</strong>，可以实现 <strong>无刷新、快速提交</strong>，同时保证安全性和用户体验。</p>
                <hr>
                <h2 id="-"><strong>一、前提条件</strong></h2>
                <ol>
                    <li><p>Cloudflare 账号，并在 Turnstile 中注册网站：</p>
                        <ul>
                            <li><strong>Sitekey</strong>（前端使用）</li>
                            <li><strong>Secret key</strong>（后端验证）</li>
                        </ul>
                    </li>
                    <li>支持 PHP 后端（用于验证 Turnstile token）</li>
                    <li>使用 Formspree 作为邮件服务</li>
                </ol>
                <hr>
                <h2 id="-cloudflare-turnstile-"><strong>二、Cloudflare Turnstile 使用方法</strong></h2>
                <ol>
                    <li><p><strong>登录 Cloudflare</strong>
                        打开 <a href="https://dash.cloudflare.com">Cloudflare Dashboard</a>。</p>
                    </li>
                    <li><p><strong>进入 Turnstile 页面</strong></p>
                        <ul>
                            <li>左侧菜单：<strong>Security → Bots → Turnstile</strong></li>
                        </ul>
                    </li>
                    <li><p><strong>注册站点</strong></p>
                        <ul>
                            <li>点击 <strong>Add site</strong></li>
                            <li><p>填写：</p>
                                <ul>
                                    <li><strong>Site name</strong>：自定义，用于识别</li>
                                    <li><strong>Domain</strong>：网站域名，例如 <code>example.com</code></li>
                                    <li><strong>Widget Mode</strong>：选择 <em>Managed</em>（自动模式）</li>
                                </ul>
                            </li>
                            <li>点击 <strong>Save</strong></li>
                        </ul>
                    </li>
                    <li><p><strong>获取 Key</strong></p>
                        <ul>
                            <li><strong>Sitekey</strong> → 前端显示验证码</li>
                            <li><strong>Secret key</strong> → 后端验证用户 token
                            ⚠️ Secret key 必须保密，不可放前端</li>
                        </ul>
                    </li>
                    <li><p><strong>前端使用</strong></p>
                        <ul>
                            <li><p>在表单中添加：</p>
                                <pre><code class="lang-html">&lt;div <span class="hljs-class"><span class="hljs-keyword">class</span></span>=<span class="hljs-string">"cf-turnstile"</span> data-sitekey=<span class="hljs-string">"你的-sitekey"</span>&gt;<span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
                                </code></pre>
                            </li>
                            <li><p>引入 JS：</p>
                                <pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://challenges.cloudflare.com/turnstile/v0/api.js"</span> <span class="hljs-attr">async</span> <span class="hljs-attr">defer</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
                                </code></pre>
                            </li>
                        </ul>
                    </li>
                    <li><p><strong>后端验证</strong></p>
                        <ul>
                            <li>用户提交表单时，会生成 <code>cf-turnstile-response</code> token</li>
                            <li><p>后端发送请求到 Cloudflare：</p>
                                <pre><code>POST https:<span class="hljs-comment">//challenges.cloudflare.com/turnstile/v0/siteverify</span>
                                    secret=你的-secret-<span class="hljs-built_in">key</span>
                                    response=用户<span class="hljs-built_in">token</span>
                                </code></pre></li>
                                <li>验证成功才处理表单</li>
                            </ul>
                        </li>
                    </ol>
                    <hr>
                    <h2 id="-turnstile-"><strong>三、Turnstile 的优势</strong></h2>
                    <ul>
                        <li>✅ <strong>用户体验好</strong>：无需点击“我不是机器人”，自动分析行为</li>
                        <li>✅ <strong>轻量快速</strong>：加载速度快，对页面性能影响小</li>
                        <li>✅ <strong>隐私友好</strong>：不收集个人数据，符合 GDPR</li>
                        <li>✅ <strong>防止垃圾表单</strong>：有效阻挡自动脚本</li>
                        <li>✅ <strong>免费使用</strong></li>
                    </ul>
                    <hr>
                    <h2 id="-html-"><strong>四、前端 HTML 表单</strong></h2>
                    <pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">"stylesheet"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://code.jquery.com/jquery-3.7.1.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://challenges.cloudflare.com/turnstile/v0/api.js"</span> <span class="hljs-attr">async</span> <span class="hljs-attr">defer</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>

                        <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"contact-form"</span> <span class="hljs-attr">action</span>=<span class="hljs-string">"submit.php"</span> <span class="hljs-attr">method</span>=<span class="hljs-string">"POST"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container mt-3"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mb-3"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-control"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Name"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">required</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mb-3"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-control"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"E-mail"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"email"</span> <span class="hljs-attr">required</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mb-3"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">textarea</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-control"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Enter your message..."</span> <span class="hljs-attr">rows</span>=<span class="hljs-string">"6"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"message"</span> <span class="hljs-attr">required</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

                        <span class="hljs-comment">&lt;!-- Honeypot 防垃圾 --&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"display:none;"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"_gotcha"</span> <span class="hljs-attr">tabindex</span>=<span class="hljs-string">"-1"</span> <span class="hljs-attr">autocomplete</span>=<span class="hljs-string">"off"</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

                        <span class="hljs-comment">&lt;!-- Turnstile 验证 --&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"cf-turnstile mb-3"</span> <span class="hljs-attr">data-sitekey</span>=<span class="hljs-string">"你的-sitekey"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

                        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-warning w-100"</span>&gt;</span>Send Message<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>

                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"form-status"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"mt-2"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
                    </code></pre>
                    <hr>
                    <h2 id="-js-ajax-"><strong>五、前端 JS (AJAX 提交)</strong></h2>
                    <pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
                        $(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                          $(<span class="hljs-string">"#contact-form"</span>).on(<span class="hljs-string">"submit"</span>, <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{
                            e.preventDefault();
                            <span class="hljs-keyword">const</span> $form = $(<span class="hljs-keyword">this</span>);
                            <span class="hljs-keyword">const</span> status = $(<span class="hljs-string">"#form-status"</span>);
                            status.html(<span class="hljs-string">"&lt;p style='color:blue;'&gt;⏳ 提交中，请稍候...&lt;/p&gt;"</span>);

                            <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">new</span> FormData(<span class="hljs-keyword">this</span>);

                            <span class="hljs-comment">// 获取 Turnstile token</span>
                            <span class="hljs-keyword">const</span> token = $(<span class="hljs-string">'input[name="cf-turnstile-response"]'</span>).val();
                            <span class="hljs-keyword">if</span> (!token) {
                              status.html(<span class="hljs-string">"&lt;p style='color:red;'&gt;⚠️ 请先完成验证。&lt;/p&gt;"</span>);
                              <span class="hljs-keyword">return</span>;
                          }
                          data.append(<span class="hljs-string">"cf-turnstile-response"</span>, token);

                          <span class="hljs-keyword">try</span> {
                              <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> fetch($form.attr(<span class="hljs-string">"action"</span>), {
                                <span class="hljs-attr">method</span>: <span class="hljs-string">"POST"</span>,
                                <span class="hljs-attr">body</span>: data
                            });
                            <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> response.json();

                            <span class="hljs-keyword">if</span> (result.success) {
                                status.html(<span class="hljs-string">"&lt;p style='color:green;'&gt;✅ 提交成功，我们会尽快联系您！&lt;/p&gt;"</span>);
                                $form[<span class="hljs-number">0</span>].reset();
                                <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.turnstile) turnstile.reset();
                            } <span class="hljs-keyword">else</span> {
                                status.html(<span class="hljs-string">"&lt;p style='color:red;'&gt;❌ 提交失败，请稍后再试。&lt;/p&gt;"</span>);
                            }

                        } <span class="hljs-keyword">catch</span> (error) {
                          status.html(<span class="hljs-string">"&lt;p style='color:red;'&gt;⚠️ 网络错误，请检查连接。&lt;/p&gt;"</span>);
                      }
                  });
              });
          </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
      </code></pre>
      <hr>
      <h2 id="-php-turnstile-formspree-"><strong>六、后端 PHP 验证 Turnstile + 转发 Formspree</strong></h2>
      <pre><code class="lang-php"><span class="php"><span class="hljs-meta">&lt;?php</span>
        header(<span class="hljs-string">'Content-Type: application/json'</span>);

        $secret = <span class="hljs-string">"你的-secret-key"</span>;
        $token = $_POST[<span class="hljs-string">'cf-turnstile-response'</span>] ?? <span class="hljs-string">''</span>;
        <span class="hljs-keyword">if</span> (!$token) { <span class="hljs-keyword">echo</span> json_encode([<span class="hljs-string">'success'</span>=&gt;<span class="hljs-keyword">false</span>]); <span class="hljs-keyword">exit</span>; }

        <span class="hljs-comment">// 验证 Turnstile</span>
        $verify = curl_init();
        curl_setopt($verify, CURLOPT_URL, <span class="hljs-string">"https://challenges.cloudflare.com/turnstile/v0/siteverify"</span>);
        curl_setopt($verify, CURLOPT_POST, <span class="hljs-keyword">true</span>);
        curl_setopt($verify, CURLOPT_POSTFIELDS, http_build_query([
        <span class="hljs-string">'secret'</span> =&gt; $secret,
        <span class="hljs-string">'response'</span> =&gt; $token
        ]));
        curl_setopt($verify, CURLOPT_RETURNTRANSFER, <span class="hljs-keyword">true</span>);
        $response = curl_exec($verify);
        curl_close($verify);

        $result = json_decode($response, <span class="hljs-keyword">true</span>);
        <span class="hljs-keyword">if</span> (!$result[<span class="hljs-string">'success'</span>]) { <span class="hljs-keyword">echo</span> json_encode([<span class="hljs-string">'success'</span>=&gt;<span class="hljs-keyword">false</span>]); <span class="hljs-keyword">exit</span>; }

        <span class="hljs-comment">// 转发到 Formspree</span>
        $formspree_url = <span class="hljs-string">"https://formspree.io/f/xxxxxx"</span>;
        $data = [
        <span class="hljs-string">'name'</span> =&gt; $_POST[<span class="hljs-string">'name'</span>] ?? <span class="hljs-string">''</span>,
        <span class="hljs-string">'email'</span> =&gt; $_POST[<span class="hljs-string">'email'</span>] ?? <span class="hljs-string">''</span>,
        <span class="hljs-string">'message'</span> =&gt; $_POST[<span class="hljs-string">'message'</span>] ?? <span class="hljs-string">''</span>,
        <span class="hljs-string">'_gotcha'</span> =&gt; $_POST[<span class="hljs-string">'_gotcha'</span>] ?? <span class="hljs-string">''</span>
        ];

        $ch = curl_init($formspree_url);
        curl_setopt($ch, CURLOPT_POST, <span class="hljs-keyword">true</span>);
        curl_setopt($ch, CURLOPT_POSTFIELDS, http_build_query($data));
        curl_setopt($ch, CURLOPT_RETURNTRANSFER, <span class="hljs-keyword">true</span>);
        curl_setopt($ch, CURLOPT_HTTPHEADER, [<span class="hljs-string">'Accept: application/json'</span>]);
        curl_exec($ch);
        $http_code = curl_getinfo($ch, CURLINFO_HTTP_CODE);
        curl_close($ch);

        <span class="hljs-keyword">echo</span> json_encode([<span class="hljs-string">'success'</span>=&gt;($http_code&gt;=<span class="hljs-number">200</span> &amp;&amp; $http_code&lt;<span class="hljs-number">300</span>)]);
        <span class="hljs-meta">?&gt;</span></span>
    </code></pre>
    <hr>
    <h2 id="-css-js-"><strong>七、使用到的 CSS 和 JS</strong></h2>
    <ul>
        <li><p><strong>CSS</strong></p>
            <ul>
                <li><p>Bootstrap 5</p>
                    <pre><code class="lang-html">&lt;<span class="hljs-keyword">link</span> rel=<span class="hljs-string">"stylesheet"</span> href=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"</span>&gt;
                    </code></pre>
                </li>
            </ul>
        </li>
        <li><p><strong>JS</strong></p>
            <ul>
                <li><p>jQuery（AJAX）</p>
                    <pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://code.jquery.com/jquery-3.7.1.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
                    </code></pre>
                </li>
                <li><p>Bootstrap JS（可选）</p>
                    <pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
                    </code></pre>
                </li>
                <li><p>Cloudflare Turnstile JS</p>
                    <pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://challenges.cloudflare.com/turnstile/v0/api.js"</span> <span class="hljs-attr">async</span> <span class="hljs-attr">defer</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
                    </code></pre>
                </li>
            </ul>
        </li>
    </ul>
    <hr>
    <h2 id="-"><strong>八、流程概览</strong></h2>
    <ol>
        <li>用户填写表单 + 完成 Turnstile 验证</li>
        <li>AJAX 提交表单到 <code>submit.php</code></li>
        <li>PHP 后端验证 Turnstile token</li>
        <li>验证通过后转发数据到 Formspree</li>
        <li>前端显示 <strong>提交成功 / 失败</strong> 提示</li>
    </ol>



</div>
</div>
<!--- END ROW -->
</div>
<!--- END CONTAINER -->
</section>
<!-- END POSTS TABLE -->


<!-- START CONTACT FORM  -->
<section id="contact" class="contact-us section-padding">
    <div class="container">
        <div class="row ">
            <div class="section-title text-center wow zoomIn">
                <h2>Get in touch</h2>
                <span></span>
            </div>
            <div class="contact" style="background-image: url(../assets/img/bg/contact-bg.jpg); background-size:cover; background-position: center center;">
                <!-- web form -->
                <div class="col-md-7 col-sm-7 col-xs-12 mt60 wow fadeInDown" data-wow-duration="1s" data-wow-delay="0.1s" data-wow-offset="0">
                    <form id="contact-form" action="https://formspree.io/f/xeolnzlb" method="POST">
                      <div class="row">
                        <div class="form-group col-md-12">
                          <input type="text" name="name" class="form-control" placeholder="Name" required>
                      </div>
                      <div class="form-group col-md-12">
                          <input type="email" name="email" class="form-control" placeholder="Email" required>
                      </div>
                      <div class="form-group col-md-12 mbnone">
                          <textarea rows="6" name="message" class="form-control" placeholder="Your Message" required></textarea>
                      </div>

                      <!-- Honeypot 防垃圾 -->
                      <div style="display:none;">
                          <input type="text" name="_gotcha" tabindex="-1" autocomplete="off">
                      </div>

                      <!-- Cloudflare Turnstile 验证 -->
                      <div class="cf-turnstile mb-3" data-sitekey="0x4AAAAAAB2DjWw2W65iSLaN"></div>

                      <div class="col-md-12">
                          <div class="actions">
                            <button type="submit" id="submitBtn" class="btn btn-lg btn-contact-bg">Send message</button>
                        </div>
                    </div>
                </div>
            </form>

<!-- 提交反馈消息 -->
<div id="form-status" style="margin-top:15px;"></div>

<script>
    document.getElementById("contact-form").addEventListener("submit", async function(e) {
      e.preventDefault();

      const form = e.target;
      const status = document.getElementById("form-status");
      const submitBtn = document.getElementById("submitBtn");

      submitBtn.disabled = true;
      submitBtn.innerText = "Submitting...";

  // 获取 Turnstile token
      const token = document.querySelector('input[name="cf-turnstile-response"]')?.value;
      if (!token) {
        status.innerHTML = "<p style='color:red;'>⚠️ 请先完成验证码验证</p>";
        submitBtn.disabled = false;
        submitBtn.innerText = "Send message";
        return;
    }

    let data = new FormData(form);
  data.append("cf-turnstile-response", token); // 附加 Turnstile token

  try {
    let response = await fetch(form.action, {
      method: form.method,
      body: data,
      headers: { 'Accept': 'application/json' }
  });

    if (response.ok) {
      status.innerHTML = "<p style='color:green;'>✅ 提交成功，我们会尽快联系您！</p>";
      form.reset();
      if (window.turnstile) turnstile.reset(); // 重置验证码
  } else {
      status.innerHTML = "<p style='color:red;'>❌ 提交失败，请稍后再试</p>";
  }

} catch (error) {
    status.innerHTML = "<p style='color:red;'>⚠️ 网络错误，请检查连接</p>";
}

submitBtn.disabled = false;
submitBtn.innerText = "Send message";
});
</script>


</div>
<!-- End web form -->
<!-- END COL -->
<div class="col-md-5 col-sm-5 col-xs-12">
    <div class="single_address">
        <i class="fa fa-rocket color-five"></i>
        <h4>Our Location</h4>

        <p>Hong Kong、Shenzhen 、Miami</p>
    </div>
    <div class="single_address">
        <i class="fa fa-phone color-six"></i>
        <h4>Call us on</h4>

        <p>+(852) 6501 3956 </p>
    </div>
    <div class="single_address">
        <i class="fa fa-envelope color-seven"></i>
        <h4>Send message</h4>

        <p>service@graceliu.space</p>
    </div>
    <div class="single_address single_address_mbnone">
        <i class="fa fa-lightbulb-o color-eight"></i>
        <h4>Working Hours</h4>

        <p>Sat-Mon:10.00AM-5.00PM</p>
    </div>
</div>
<!-- END COL -->
</div>
<!-- END CONTACT -->
</div>
<!-- END ROW -->
</div>
<!--- END CONTAINER -->
</section>
<!-- END CONTACT FORM -->

<!-- START MAP -->
<!---<div id="map"></div>--->
<!-- END MAP -->

<!-- START FOOTER BOTTOM -->
<footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6 col-xs-12 wow zoomIn">
                <p class="footer_copyright">Copyright &copy; 2015-2025.Grace Studio</p>
            </div>
            <!--- END COL -->
            <div class="col-md-6 col-sm-6 col-xs-12 wow zoomIn">
                <div class="footer_social">
                    <ul>
                        <li><a class="f_linkedin" target="_blank"
                         href="https://www.linkedin.com/in/grace-lau-marketing/" target="_blank"><i
                         class="fa fa-linkedin"></i></a></li>
                         <li><a class="f_wechat" target="_blank" href="../Carolyn_Wachat.jpg"><i
                            class="fa fa-wechat"></i></a></li>
                            <li><a class="f_envelope" href="mailto:service@graceliu.space"><i
                                class="fa fa-envelope"></i></a></li>
                            </ul>
                        </div>
                    </div>
                    <!--- END COL -->
                </div>
                <!--- END ROW -->
            </div>
            <!--- END CONTAINER -->
        </footer>
<!-- END FOOTER BOTTOM-->

<!-- turnstile -->
<script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
<!-- Latest jQuery -->
<script src="../assets/js/jquery-1.12.4.min.js"></script>
<!-- Latest compiled and minified Bootstrap -->
<script src="../assets/bootstrap/js/bootstrap.min.js"></script>
<!-- modernizer JS -->
<script src="../assets/js/modernizr-2.8.3.min.js"></script>
<!-- stellar js -->
<script src="../assets/js/jquery.stellar.min.js"></script>
<!-- owl-carousel min js  -->
<script src="../assets/owlcarousel/js/owl.carousel.min.js"></script>
<!-- jquery.prettyPhoto js -->
<script src="../assets/js/jquery.prettyPhoto.js"></script>
<!-- scrolltopcontrol js -->
<script src="../assets/js/scrolltopcontrol.js"></script>
<!-- form-contact js -->
<script src="../assets/js/form-contact.js"></script>
<!-- WOW - Reveal Animations When You Scroll -->
<script src="../assets/js/wow.min.js"></script>
<!-- map js -->
<!---<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDwIQh7LGryQdDDi-A603lR8NqiF3R_ycA"></script>--->
<!-- scripts js -->
<script src="../assets/js/scripts.js"></script>
</body>
</html>
